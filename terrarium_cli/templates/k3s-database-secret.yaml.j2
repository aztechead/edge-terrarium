# =============================================================================
# AUTO-GENERATED FILE - DO NOT EDIT MANUALLY
# =============================================================================
# This file is automatically generated by the Terrarium CLI from templates.
# Any manual changes will be overwritten on the next deployment.
# 
# To modify the configuration, edit the app-config.yml files in the apps/ directory
# or update the templates in terrarium_cli/templates/
# =============================================================================

# =============================================================================
# KUBERNETES DATABASE SECRET MANIFEST
# =============================================================================
# This template generates a Kubernetes Secret for database credentials.
# It contains the database password and other sensitive information.
#
# Template Variables:
#   {{ app.name }} - The name of the application
#   {{ db_config.name }} - The name of the database
#   {{ global_config.namespace }} - Kubernetes namespace
#   {{ credentials }} - Dictionary of database credentials
#
# Generated Resources:
#   - Secret: {{ app.name }}-{{ db_config.name | replace('_', '-') }}-db-secrets
#   - Data: Database password and connection information
# =============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: {{ app.name }}-db-secrets
  namespace: {{ global_config.namespace }}
  labels:
    app: {{ app.name }}-db
    component: database
    service: {{ app.name }}
type: Opaque
data:
  password: {{ credentials.password | base64encode }}
  host: {{ credentials.host | base64encode }}
  port: {{ credentials.port | base64encode }}
  username: {{ credentials.username | base64encode }}
  database_name: {{ credentials.database_name | base64encode }}
  url: {{ credentials.url | base64encode }}
